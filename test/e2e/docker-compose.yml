version: '3'
services:
  reserve_proxy:
    image: nginx:latest
    volumes:
      - ./nginx.conf:/etc/nginx/conf.d/default.conf
    network_mode: "service:localhost"
    container_name: reserve_proxy
    depends_on:
      - localhost

  bullet_client:
    build: 
      context: ./client
      dockerfile: Dockerfile
    container_name: bullet_client
    network_mode: "service:localhost"
    depends_on:
      - localhost
      - reserve_proxy

  localhost:
    image: alpine:latest
    command: sleep infinity
    container_name: localhost
    
